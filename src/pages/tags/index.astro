---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getPublishedArticles, getTagSummaries } from "../../lib/articles";

const tags = getTagSummaries(await getPublishedArticles());
---

<BaseLayout title="Tags | Natsu-B" description="全タグ一覧と記事件数。">
  <section class="panel px-6 py-6 sm:px-8 sm:py-8">
    <h1 class="text-2xl font-bold tracking-tight text-slate-800 sm:text-3xl">Tags</h1>
    <p class="mt-3 text-sm leading-7 text-slate-600 sm:text-base">
      公開中の記事に付与されているタグ一覧です。タグを選択すると絞り込みページへ移動します。
    </p>
  </section>

  <section class="mt-6 grid gap-3 sm:grid-cols-2">
    {
      tags.map((tag) => (
        <a href={`/tags/${tag.slug}/`} class="panel panel-hover block px-5 py-4">
          <div class="flex items-center justify-between gap-2">
            <p class="font-semibold text-slate-700">#{tag.label}</p>
            <p class="text-sm text-slate-500">{tag.count}件</p>
          </div>
        </a>
      ))
    }
    {
      tags.length === 0 && (
        <p class="panel col-span-full p-5 text-sm text-slate-600">
          公開中の記事にタグがまだありません。
        </p>
      )
    }
  </section>
</BaseLayout>

